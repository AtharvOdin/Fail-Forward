<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Fail Forward | Game</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --primary:#d95f5f; --secondary:#f2b84b; --accent:#2c2c54;
      --bg:#7173f5b1; --text:#2b1d0e; --muted:#9c6f4e; --white:#0ad4b298;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0}
    body{
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--text); background:var(--bg); line-height:1.6;
      display:flex; flex-direction:column; min-height:100vh; overflow-x:hidden;
    }

    .site-header{background:var(--white); border-bottom:1px solid rgba(44,44,84,0.18)}
    .nav{max-width:1100px;padding:12px 20px;margin:0 auto;display:flex;align-items:center;gap:16px}
    .brand img{height:80px;display:block}
    .nav-links{margin-left:auto;display:flex;gap:18px}
    .nav a{color:var(--text);text-decoration:none;font-weight:700;padding:10px 12px;border-radius:8px}
    .nav-toggle{display:none}

    .content{max-width:1100px;padding:28px 20px 60px;margin:0 auto;flex:1 0 auto}
    .page-header{margin-bottom:20px}
    .page-header h1{margin:0 0 6px}
    .page-header p{color:var(--muted);margin:0}

    /* FULL-WIDTH GAME EMBED */
    /* The container spans the full viewport width; the internal max-width content layout stays centered above/below. */
    .game-embed-root{
      width:100vw;            /* full browser width */
      position:relative;
      left:50%;               /* technique to neutralize page margin when container is centered */
      right:25%;
      margin-left:-50vw;
      margin-right:-50vw;
      background:transparent;
      padding:0;
    }

    /* aspect wrapper keeps correct height while iframe fills width */
    .game-frame-aspect{
      width:100%;
      aspect-ratio:16/4;      /* modern browsers */
      background:#000;
      overflow:hidden;
      display:block;
    }

    .game-frame-aspect .game-iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }

    /* fallback for browsers that don't support aspect-ratio */
    @supports not (aspect-ratio:1/1){
      .game-frame-aspect{ position:relative; padding-top:56.25% }
      .game-frame-aspect .game-iframe{ position:absolute; inset:0; width:100%; height:100% }
    }

    /* On very narrow screens, use 4:3 */
    @media (max-width:520px){
      .game-frame-aspect{ aspect-ratio:4/3 }
    }

    .site-footer{border-top:1px solid rgba(44,44,84,0.18);background:var(--white);text-align:center;padding:18px}
    a:focus,button:focus,input:focus{outline:3px solid rgba(242,184,75,0.28);outline-offset:2px;border-radius:6px}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="nav" aria-label="Primary">
      <a class="brand" href="index.html">
        <div style="display: flex; align-items: center; gap: 15px;">
            <img src="assets/images/history-logo.png" alt="History Gallery logo" style="height: 70px;" />
            <span style="font-size: 2.0rem; font-weight: 500;; font-family:fantasy">Fail Forward</span>
        </div>
      </a>
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-navigation" aria-label="Menu">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
      <div id="primary-navigation" class="nav-links">
        <a href="index.html">Home</a>
        <a href="Failures.html">Failures</a>
        <a href="Events.html">Events</a>
        <a href="Recoveries.html">Recoveries</a>
        <a href="chat.html">Chat</a>
        <a href="game.html">Game</a>
      </div>
    </nav>
  </header>

    <main class="content" id="main-content" tabindex="-1">
    <header class="page-header">
        <h1>Fail Forward</h1>
    </header>

  <!-- Full-bleed game embed that starts at the left edge of the viewport -->
  <div class="game-embed-root" aria-label="Embedded game">
    <div class="game-frame-aspect">
      <iframe
        class="game-iframe"
        src="https://atharvodin.github.io/Fail-Game/"
        title="Interactive game"
        loading="lazy"
        allow="fullscreen; autoplay; gamepad; encrypted-media; gyroscope; accelerometer; clipboard-write; picture-in-picture"
        frameborder="0"
        allowfullscreen>
      </iframe>
    </div>
  </div>

<section class="game-instructions">
        <h2>How to Play: Red Light, Safe Zone</h2>

        <h3>Objective</h3>
        <p>Move your player from the left side of the screen to the right without getting caught moving during a red light or colliding with obstacles.</p>

        <h3>Game Start</h3>
        <ul>
        <li>The game begins when your player crosses the peach-colored start zone on the left.</li>
        <li>Once you leave the start zone, the light begins to change and the game officially starts.</li>
        </ul>

        <h3>Light Rules</h3>
        <ul>
        <li>Green light means you can move safely.</li>
        <li>Red light means stop immediately. Moving during red light may trigger a violation unless you're in a safe zone.</li>
        </ul>

        <h3>Obstacles</h3>
        <ul>
        <li>The path contains moving shapes: squares, circles, and triangles.</li>
        <li>These obstacles oscillate slightly, requiring careful timing and positioning.</li>
        <li>Colliding with any obstacle results in game over.</li>
        </ul>

        <h3>Safe Zones</h3>
        <ul>
        <li>Some obstacles act as safe zones during red light.</li>
        <li>If you're within a safe zone when the light turns red, you won't be penalized for moving.</li>
        </ul>

        <h3>Controls</h3>
        <ul>
        <li>Right Arrow: Move forward</li>
        <li>Up Arrow / Down Arrow: Move vertically</li>
        <li>Release keys to stop movement instantly</li>
        </ul>

        <h3>Violations</h3>
        <ul>
        <li>Moving during red light outside a safe zone starts a violation timer.</li>
        <li>If the timer runs out while you're still moving, the game ends with a boom sound.</li>
        </ul>

        <h3>Winning</h3>
        <ul>
        <li>Reach the green zone on the far right without triggering a violation or hitting an obstacle.</li>
        <li>A victory message and sound will play when you win.</li>
        </ul>

        <h3>Retry</h3>
        <ul>
        <li>If you lose, click the "Retry Game" button to restart.</li>
        <li>Obstacles are reshuffled each time for a fresh challenge.</li>
        </ul>
    </section>
    </main>

  <footer class="site-footer">
    <p>&copy; <span id="year"></span> Fail Forward. All rights reserved.</p>
  </footer>

  <script>
    // Fill year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>